{{- /* Simple navigation menu using params.menu configuration */ -}}

{{- $site := .site -}}
{{- $page := .page -}}

<nav class="main-nav">
  <ul class="nav-list">
    {{- if $site.Params.menu -}}
      {{- range sort $site.Params.menu "weight" -}}
        <li class="nav-item">
          <a href="{{ .url }}" class="nav-link{{ if eq $page.RelPermalink .url }} active{{ end }}">
            {{ .name }}
          </a>
        </li>
      {{- end -}}
    {{- else -}}
      {{- /* Fallback menu if params.menu is not configured */ -}}
      <li class="nav-item">
        <a href="/" class="nav-link{{ if eq $page.RelPermalink "/" }} active{{ end }}">
          Home
        </a>
      </li>
      <li class="nav-item">
        <a href="/posts" class="nav-link{{ if eq $page.RelPermalink "/posts" }} active{{ end }}">
          Posts
        </a>
      </li>
      <li class="nav-item">
        <a href="/about" class="nav-link{{ if eq $page.RelPermalink "/about" }} active{{ end }}">
          About
        </a>
      </li>
    {{- end -}}
    <li class="nav-item">
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <svg class="sun-icon" viewBox="0 0 24 24" width="20" height="20">
          <circle cx="12" cy="12" r="4"/>
          <path d="m12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 6.34L4.93 4.93m11.32 0l1.41-1.41"/>
        </svg>
        <svg class="moon-icon" viewBox="0 0 24 24" width="20" height="20">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
    </li>
  </ul>
</nav>
